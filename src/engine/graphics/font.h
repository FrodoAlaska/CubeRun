#pragma once

#include "engine/defines.h"

#include <string>

#include <glm/vec2.hpp>
#include <ft2build.h>
#include <freetype/freetype.h>

// Defines 
/////////////////////////////////////////////////////////////////////////////////
#define GLYPHS_MAX 128
/////////////////////////////////////////////////////////////////////////////////

// Glyph 
/////////////////////////////////////////////////////////////////////////////////
struct Glyph {
  u32 ID;
  glm::ivec2 size, bearing;
  i64 advance;
};
/////////////////////////////////////////////////////////////////////////////////

// Font 
/////////////////////////////////////////////////////////////////////////////////
struct Font {
  u32 vao, vbo;
  Glyph glyphs[GLYPHS_MAX];

  FT_Library lib; 
  FT_Face face;
};
/////////////////////////////////////////////////////////////////////////////////

// Public functions 
/////////////////////////////////////////////////////////////////////////////////
Font* font_load(const std::string& path, const u32 size);
void font_unload(Font* font);
/////////////////////////////////////////////////////////////////////////////////
